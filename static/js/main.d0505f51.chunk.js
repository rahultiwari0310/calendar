(this.webpackJsonpcalendar_firebase=this.webpackJsonpcalendar_firebase||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(15),s=n.n(c),i=(n(32),n.p,n(33),n(27)),l=n(10),d=n(13),o=n(11),u=n.n(o),j=n(23),b=n(2);function f(e){var t=e.date,n=e.isFirstDay,a=e.addOrEditEvent,r=e.eventsInDay;return Object(b.jsxs)("div",{className:"col border",children:[Object(b.jsx)("div",{className:"day-heading",children:t.format("DD MMM YYYY")}),Object(b.jsx)("div",{className:"day-heading",children:t.format("dddd")}),Object(b.jsxs)("div",{className:"half-hours",children:[new Array(48).fill(1).map((function(e,r){var c=t.startOf("day").add(30*r,"minutes");return Object(b.jsx)("div",{className:"half-hour",onClick:function(e){return a({slot:c})},children:!n||r%2?null:Object(b.jsx)("span",{className:"half-hour-time",children:c.format("hh:mm A")})},c.$d.getTime())})),r.map((function(e){return Object(b.jsxs)("div",{className:"event-in-day",style:{height:(e.endDate-e.startDate)/18e5*20+"px",top:(e.startDate-t.startOf("day").$d.getTime())/18e5*20+"px"},"data-for":e.eventId,"data-tip":!0,onClick:function(t){return a(Object(l.a)({},e))},children:[Object(b.jsx)("div",{className:"event-title",children:e.title}),Object(b.jsxs)("div",{className:"event-time",children:[u()(e.startDate).format("hh:mm")," - ",u()(e.endDate).format("hh:mm A")]}),Object(b.jsxs)(j.a,{id:e.eventId,effect:"solid",clickable:!0,offset:{top:0,left:0},children:[Object(b.jsxs)("p",{children:["Title: ",e.title]}),Object(b.jsxs)("p",{children:["Owner: ",e.owner]}),Object(b.jsxs)("p",{children:["Time: ",u()(e.startDate).format("DD MMM YYYY hh:mm A")," - ",u()(e.endDate).format("DD MMM YYYY hh:mm A")]}),e.theme?Object(b.jsxs)("p",{children:["Theme: ",e.theme]}):null]})]},e.eventId)}))]})]})}function m(e){var t=e.selectedWeek,n=e.addOrEditEvent,a=e.allEvents,r=u()().add(t,"week").startOf("week"),c=new Array(7).fill(r).map((function(e,t){return e.add(t,"day")}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"row col-md-10 g-0",children:c.map((function(e,t){return Object(b.jsx)(f,{addOrEditEvent:n,date:e,isFirstDay:!t,eventsInDay:(r=e,c=a,Object.keys(c).filter((function(e){return c[e].startDate>=r.$d.getTime()&&c[e].endDate<=r.endOf("day").$d.getTime()})).map((function(e){return Object(l.a)(Object(l.a)({},c[e]),{},{eventId:e})}))||[])},e.$d.getTime());var r,c}))})})}function h(e){var t=e.onClick,n=e.icon;return Object(b.jsx)("button",{onClick:t,type:"button",className:"calendar-nav-button btn btn-primary ",children:Object(b.jsx)("i",{className:"fas fa-angle-".concat(n)})})}var O=n(24),v=n.n(O);function p(e){var t=e.children,n=e.modalIsOpen,a=e.closeModal,r=e.title;return Object(b.jsx)(v.a,{isOpen:n,onRequestClose:a,contentLabel:r,style:{content:{width:"50%",height:"60vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},children:t})}function x(e){var t=e.addOrEditEvent,n=u()();return Object(b.jsx)("div",{class:"col-md-12",children:Object(b.jsx)("button",{type:"button",class:"btn btn-success",onClick:function(e){return t({slot:n.get("minutes")>30?n.add(1,"hour").startOf("hour"):n.set("minute",30)})},children:"+ Create Event"})})}var D=n(25),g=n.n(D);function y(e){var t=e.label,n=e.labelFor;return Object(b.jsx)("label",{labelfor:n,className:"form-label",children:t})}function C(e){var t=e.startDate,n=e.endDate,a=e.onChange;return Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)(y,{label:"Select date and time"}),Object(b.jsx)(g.a,{onChange:a,pickerClassName:"pickers",className:"date-time-input",startDate:t,endDate:n})]})}function w(e){var t=e.placeholder,n=e.value,a=e.onChange,r=e.name,c=e.label,s=e.required;return Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)(y,{label:c,labelFor:r}),Object(b.jsx)("input",{type:"text",className:"form-control",required:s,placeholder:t,value:n,onChange:function(e){return a(e.currentTarget.value)},id:r})]})}var N=n(26).a.initializeApp({apiKey:"AIzaSyDE8yPkLomMyYrLnu3f_t37CFd_eptOCo8",authDomain:"calendar-firebase-e3f9f.firebaseapp.com",databaseURL:"https://calendar-firebase-e3f9f-default-rtdb.firebaseio.com",projectId:"calendar-firebase-e3f9f",storageBucket:"calendar-firebase-e3f9f.appspot.com",messagingSenderId:"534820117922",appId:"1:534820117922:web:00d0ec4ef1d0eb7b0ae6fb",measurementId:"G-9P678RTSDQ"}).database().ref();function E(e){var t=e.slot,n=e.closeModal,r=e.startDate,c=e.endDate,s=e.title,i=e.owner,o=e.theme,u=e.eventId,j=Object(a.useState)({startDate:new Date(r||t.$d),endDate:new Date(c||t.add(1,"hour").$d),title:s,theme:o,owner:i}),f=Object(d.a)(j,2),m=f[0],h=f[1],O=function(e){return h(Object(l.a)(Object(l.a)({},m),e))};return Object(b.jsxs)("div",{className:"form-fields",children:[Object(b.jsx)("div",{className:"event-actions",children:Object(b.jsx)("i",{onClick:function(e){window.confirm("Are you sure you want to delete this event ?")&&(N.child("events/".concat(u)).remove((function(e){return console.log(e)})),n())},className:"fas fa-trash delete-event"})}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=m.startDate,a=m.endDate,r=Object(l.a)(Object(l.a)({},m),{},{theme:m.theme||null,startDate:t.getTime(),endDate:a.getTime()});u?N.child("events/".concat(u)).set(r,(function(e){return console.log(e)})):N.child("events").push(r,(function(e){return console.log(e)})),n()},children:[Object(b.jsx)(C,{startDate:m.startDate,endDate:m.endDate,onChange:function(e){return O({endDate:e.end,startDate:e.start})}}),Object(b.jsx)(w,{placeholder:"Enter event title",value:m.title,onChange:function(e){return O({title:e})},label:"Title",name:"title",required:!0}),Object(b.jsx)(w,{placeholder:"Enter owner name",value:m.owner,onChange:function(e){return O({owner:e})},label:"Owner",name:"owner",required:!0}),Object(b.jsx)(w,{placeholder:"Enter theme",value:m.theme,onChange:function(e){return O({theme:e})},label:"Theme",name:"theme"}),Object(b.jsx)("button",{type:"submit",class:"btn btn-info",children:"Save"})]})]})}var k=["isOpen","slot"];function I(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)({}),o=Object(d.a)(s,2),u=o[0],j=o[1],f=Object(a.useState)({}),O=Object(d.a)(f,2),v=O[0],D=O[1],g=function(e){j(Object(l.a)({isOpen:!0},e))};Object(a.useEffect)((function(){N.child("events").on("value",(function(e){var t=e.val();t&&D(Object(l.a)({},t))}))}),[]);var y=u.isOpen,C=u.slot,w=Object(i.a)(u,k),I=function(e){return j(Object(l.a)(Object(l.a)({},u),{},{isOpen:!y}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Calendar"}),Object(b.jsx)(x,{addOrEditEvent:g}),Object(b.jsxs)("div",{className:"calendar-container row",children:[Object(b.jsx)(h,{onClick:function(e){return c(r-1)},icon:"left"}),Object(b.jsx)(m,{selectedWeek:r,addOrEditEvent:g,allEvents:v}),Object(b.jsx)(h,{onClick:function(e){return c(r+1)},icon:"right"}),Object(b.jsx)(p,{modalIsOpen:y,closeModal:I,title:"Enter event details",children:Object(b.jsx)(E,Object(l.a)(Object(l.a)({slot:C},w),{},{closeModal:I}))})]})]})}var T=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(I,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root")),M()}},[[53,1,2]]]);
//# sourceMappingURL=main.d0505f51.chunk.js.map